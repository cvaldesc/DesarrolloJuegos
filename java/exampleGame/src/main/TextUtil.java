package main;

import static org.lwjgl.opengl.GL11.*;

import java.nio.ByteBuffer;
import java.nio.ByteOrder;
import java.util.HashMap;

public class TextUtil {

	static HashMap<String, byte[]> font = new HashMap<String, byte[]>(40);

	private void buildTable() {
		
   font.put("-", new byte[]{0x00, 0x00, 0x00, (byte) 0xFC, 0x00, 0x00, 0x00, 0x00});
   font.put(".", new byte[]{0x00, 0x30, 0x30, 0x00, 0x00, 0x00, 0x00, 0x00});
   font.put(":", new byte[]{0x00, 0x30, 0x30, 0x00, 0x00, 0x30, 0x30, 0x00});
   font.put(" ", new byte[]{0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00});
   font.put("A", new byte[]{0x00, (byte) 0xCC, (byte)0xCC, (byte)0xFC, (byte)0xCC, (byte)0xCC, (byte)0x78, 0x30});
   font.put("B", new byte[]{(byte)0x00, (byte) 0xFC, 0x66, 0x66, 0x7C, 0x66, (byte)0x66, (byte) 0xFC});
   font.put("C", new byte[]{0x00, 0x3C, 0x66, (byte) 0xC0, (byte) 0xC0, (byte) 0xC0, 0x66, 0x3C});
   font.put("D", new byte[]{0x00, (byte) 0xF8, 0x6C, 0x66, 0x66, 0x66, 0x6C, (byte) 0xF8});
   font.put("E", new byte[]{0x00, (byte) 0xFE, 0x62, 0x68, 0x78, 0x68, 0x62, (byte) 0xFE});
   font.put("F", new byte[]{0x00, (byte) 0xF0, 0x60, 0x68, 0x78, 0x68, 0x62, (byte) 0xFE});
   font.put("G", new byte[]{0x00, 0x3E, 0x66, (byte) 0xCE, (byte) 0xC0, (byte) 0xC0, 0x66, 0x3C});
   font.put("H", new byte[]{0x00, (byte)0xCC, (byte)0xCC, (byte)0xCC, (byte)0xFC, (byte)0xCC, (byte)0xCC, (byte)0xCC});
   font.put("I", new byte[]{0x00, 0x78, 0x30, 0x30, 0x30, 0x30, 0x30, 0x78});
   font.put("J", new byte[]{0x00, 0x78, (byte) 0xCC, (byte) 0xCC, 0x0C, 0x0C, 0x0C, 0x1E});
   font.put("K", new byte[]{0x00, (byte) 0xE6, 0x66, 0x6C, 0x78, 0x6C, 0x66, (byte) 0xE6});
   font.put("L", new byte[]{0x00, (byte) 0xFE, 0x66, 0x62, 0x60, 0x60, 0x60, (byte) 0xF0});
   font.put("M", new byte[]{0x00, (byte) 0xC6, (byte) 0xC6, (byte) 0xD6, (byte) 0xFE, (byte) 0xFE, (byte) 0xEE, (byte) 0xC6});
   font.put("N", new byte[]{0x00, (byte) 0xC6, (byte) 0xC6, (byte) 0xCE, (byte) 0xDE, (byte) 0xF6, (byte) 0xE6, (byte) 0xC6});
   font.put("O", new byte[]{0x00, 0x38, 0x6C, (byte) 0xC6, (byte) 0xC6, (byte) 0xC6, 0x6C, 0x38});
   font.put("P", new byte[]{0x00, (byte) 0xF0, 0x60, 0x60, 0x7C, 0x66, 0x66, (byte) 0xFC});
   font.put("Q", new byte[]{0x00, 0x1C, 0x78, (byte) 0xDC, (byte) 0xCC, (byte) 0xCC, (byte) 0xCC, 0x78});
   font.put("R", new byte[]{0x00, (byte) 0xE6, 0x66, 0x6C, 0x7C, 0x66, 0x66, (byte) 0xFC});
   font.put("S", new byte[]{0x00, 0x78, (byte) 0xCC, 0x1C, 0x70, (byte) 0xE0, (byte) 0xCC, 0x78});
   font.put("T", new byte[]{0x00, 0x78, 0x30, 0x30, 0x30, 0x30, (byte) 0xB4, (byte) 0xFC});
   font.put("U", new byte[]{0x00, (byte) 0xFC, (byte) 0xCC, (byte) 0xCC, (byte) 0xCC, (byte) 0xCC, (byte) 0xCC, (byte) 0xCC});
   font.put("V", new byte[]{0x00, 0x30, 0x78, (byte) 0xCC, (byte) 0xCC, (byte) 0xCC, (byte) 0xCC, (byte) 0xCC});
   font.put("W", new byte[]{0x00, (byte) 0xC6, (byte) 0xEE, (byte) 0xFE, (byte) 0xD6, (byte) 0xC6, (byte) 0xC6, (byte) 0xC6});
   font.put("X", new byte[]{0x00, (byte) 0xC6, 0x6C, 0x38, 0x38, 0x6C, (byte) 0xC6, (byte) 0xC6});
   font.put("Y", new byte[]{0x00, 0x78, 0x30, 0x30, 0x78, (byte) 0xCC, (byte) 0xCC, (byte) 0xCC});
   font.put("Z", new byte[]{0x00, (byte) 0xFE, 0x66, 0x32, 0x18, (byte) 0x8C, (byte) 0xC6, (byte) 0xFE});
   font.put("0", new byte[]{0x00, 0x7C, (byte) 0xE6, (byte) 0xF6, (byte) 0xDE, (byte) 0xCE, (byte) 0xC6, 0x7C});
   font.put("1", new byte[]{0x00, (byte) 0xFC, 0x30, 0x30, 0x30, 0x30, 0x70, 0x30});
   font.put("2", new byte[]{0x00, (byte) 0xFC, (byte) 0xCC, 0x60, 0x38, 0x0C, (byte) 0xCC, 0x78});
   font.put("3", new byte[]{0x00, 0x78, (byte) 0xCC, 0x0C, 0x38, 0x0C, (byte) 0xCC, 0x78});
   font.put("4", new byte[]{0x00, 0x1E, 0x0C, (byte) 0xFE, (byte) 0xCC, 0x6C, 0x3C, 0x1C});
   font.put("5", new byte[]{0x00, 0x78, (byte) 0xCC, 0x0C, 0x0C, (byte) 0xF8, (byte) 0xC0, (byte) 0xFC});
   font.put("6", new byte[]{0x00, 0x78, (byte) 0xCC, (byte) 0xCC, (byte) 0xF8, (byte) 0xC0, 0x60, 0x38});
   font.put("7", new byte[]{0x00, 0x30, 0x30, 0x30, 0x18, 0x0C, (byte) 0xCC, (byte) 0xFC});
   font.put("8", new byte[]{0x00, 0x78, (byte) 0xCC, (byte) 0xCC, 0x78, (byte) 0xCC, (byte) 0xCC, 0x78});
   font.put("9", new byte[]{0x00, 0x70, 0x18, 0x0C, 0x7C, (byte) 0xCC, (byte) 0xCC, 0x78});
	}

	public TextUtil() {
		buildTable();
	}

	public ByteBuffer text(String text) {

		glPixelStorei(GL_UNPACK_ALIGNMENT, 1);
		ByteBuffer retBuffer = ByteBuffer.allocateDirect(text.length() * 8)
				.order(ByteOrder.nativeOrder());
		byte[] letter;

		for (int i = 0; i < text.length(); i++) {
			letter = font.get(text.substring(i, i + 1).toUpperCase());
			if (font.get(text.substring(i, i + 1).toUpperCase()) == null) {
				letter = font.get(" ");
			}
			retBuffer.put(letter);
		}
		retBuffer.flip();
		retBuffer.rewind();
		return retBuffer;
	}
	
	public void drawText(String text,float x,float y) {
		
		glPixelStorei(GL_UNPACK_ALIGNMENT, 1);
		ByteBuffer stringBuffer = text(text);
		stringBuffer.rewind();   
		ByteBuffer stringposBuffer = text(text);
		stringposBuffer.rewind(); 
		glRasterPos2f(x, y);
	
		for(int h = 0; h < text.length(); h++)
		{
			
		glBitmap(8, 8, 5, 5, 9, 0, stringBuffer);
		   for(int i = 0; i < 8; i++) stringBuffer.get();
		}
	}
}
